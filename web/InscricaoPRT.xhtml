<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:decorate xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      template="Template.xhtml">
    
    <ui:define name="conteudo">

        <h1 class="page-header">Inscrição atletas</h1>
			

			<h:panelGrid columns="4">
                
                <p:outputLabel for="codINSC" value="Código da inscrição: "/>
                <p:inputText id="codINSC" disabled="true" value="#{InscricaoManagedBean.codInscricao}"/>
                
                <p:outputLabel for="ModCads" value="Modalidades cadastradas: "/>
                    <p:selectOneMenu id="ModCads"  value="#{EventosManagedBean.codModSelecionado}" >
                        <p:ajax   listener="#{EventosManagedBean.carregarComboEv()}" update="EventCads,SegsCads"/>
                        <f:selectItem itemLabel="Selecione uma modalidade"/>
                        <f:selectItems value="#{EventosManagedBean.comboMod}"  />
                        
                    </p:selectOneMenu>
                </h:panelGrid>
                <br/><br/>
                <h:panelGrid columns="5">
                    
                <p:outputLabel for="codPRT" value="Código identificação do participante: "/>
                <p:inputText id="codPRT" value="#{InscricaoManagedBean.codAtleta}" />
                
                <p:outputLabel for="nomePRT" value="Nome: "/>
                <p:inputText id="nomePRT" value="#{InscricaoManagedBean.nomeAtleta}"/>
                
                <p:commandButton value="Pesquisar" action="#{InscricaoManagedBean.consultaATL()}" update="tabelaPRT"/>
                
                </h:panelGrid>
                <h:panelGrid columns="4">
                <p:outputLabel for="EventCads" value="Eventos cadastrados: "/>
                    <p:selectOneMenu id="EventCads"  value="#{EventosManagedBean.codEveSelecionado}"  >
                     <p:ajax   listener="#{EventosManagedBean.carregaComboSegEcategs()}"  update="SegsCads"/>
                        <f:selectItem itemLabel="Selecione um evento"/>
                        <f:selectItems value="#{EventosManagedBean.comboEve}"  />
                    </p:selectOneMenu>
                
                <p:outputLabel for="SegsCads" value="Segmentos do evento: "/>    
                <p:selectOneMenu id="SegsCads"   value="#{InscricaoManagedBean.segmentoSelecionado}">
                        <f:selectItem itemLabel="Segmentos"/>
                        <f:selectItems value="#{EventosManagedBean.comboSegs}"  />
                    </p:selectOneMenu> 
                
                
                <p:outputLabel for="categoriaPRT" value="Categoria: "/>

                <p:selectOneMenu id="categoriaPRT"   value="#{InscricaoManagedBean.categoria}">
                    <p:ajax   listener="#{InscricaoManagedBean.verificaParticip()}"  update="categoriaPRT,growl"/>
                        <f:selectItem itemLabel="Categorias"/>
                        <f:selectItems value="#{InscricaoManagedBean.comboCategs}"  />
                    </p:selectOneMenu> 
                
                </h:panelGrid>
                <br/>
                
                <p:commandButton value="Limpar campos" action="#{InscricaoManagedBean.limparCampos()}" update=":form"/>
                
                <br/>
                <p:dataTable id="tabelaPRT" value="#{InscricaoManagedBean.listaATL}" selectionMode="single" selection="#{InscricaoManagedBean.atl}" 
                             rowKey="#{atls.codAtleta}"  paginator="true" rows="10" var="atls">

                    <p:ajax event="rowSelect" listener="#{InscricaoManagedBean.editar()}" update=":form:codPRT,:form:nomePRT,:form:categoriaPRT,:form:growl,:form:codINSC" />

                    <p:column headerText="Código do participante" >
                        <h:outputText value="#{atls.codAtleta}" />
                    </p:column>
                    
                    <p:column headerText="Nome">
                        <h:outputText value="#{atls.nomeAtleta}"/>
                    </p:column>
                

                </p:dataTable>
                 
                <br/>
                <p:commandButton value="Nova inscrição" action="#{InscricaoManagedBean.limparCampos()}" update=":form"/>
                <p:commandButton value="Finalizar inscrição" action="#{InscricaoManagedBean.inserirInscricao()}" update=":form:growl, :form:codINSC"/>
                
		<br/><br/>	
        
    </ui:define>
    



</ui:decorate>

